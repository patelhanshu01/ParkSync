Smart Parking System â€” Full Product
Documentation (SRS + Architecture + Flow + Diagrams)

Executive Summary
We are building aÂ next-generation smart parking systemÂ (web + mobile app) that does more than showing nearby parking â€” itÂ guarantees a parking spot, optimizes costs, reduces search time, and lowers emissions.
What makes it unique?
Capability
Existing apps (Google Maps / SpotHero / Parkopedia)
Our Platform
Show parking spots
âœ…
âœ…
Live spot availability viaÂ Computer Vision (CV)
âŒ
âœ…
Guaranteed parkingÂ (queue + reassignment logic)
âŒ
âœ…
No penaltyÂ for overstaying (auto billing instead)
âŒ
âœ…
Second user compensation viaÂ wallet credits
âŒ
âœ…
COâ‚‚ impact scoringÂ (g COâ‚‚ + % savings)
âŒ
âœ…
AR indoor navigation to theÂ exact parking spot
âŒ
âœ…
Marketplace â€” private individuals list their spot (Airbnb-style)
âŒ
âœ…
Business Impact
	â€¢	Saves userÂ time + money + emissions
	â€¢	Creates B2B monetization: subscriptions for mall/shopping center operators
	â€¢	Enables P2P revenue sharing (private spot owners earn money)
	â€¢	Data/analytics valuable for city planning & sustainability reports

2) Problem & Goals
Problem Statement:
Urban drivers spendÂ 7â€“14 minutesÂ on average searching for parking.â€¨This wastesÂ fuel, money, time, andÂ produces COâ‚‚ emissions.
Current industry gaps:
	â€¢	No real-time spot availability
	â€¢	No guarantee of a spot even after reservation
	â€¢	No wallet compensation for inconvenience
	â€¢	No COâ‚‚ scoring / eco optimization
	â€¢	No indoor AR guidance / layout visualization
Primary Goals
	â€¢	Accurate search +Â live availability
	â€¢	Guaranteed parking spotÂ using queue system + reassignment
	â€¢	Minimize circling time, fuel cost & COâ‚‚ output
	â€¢	Support EV requirements (charger, kW, cost)
	â€¢	Allow reservations and payments (Card, Wallet,Â UPI)
	â€¢	Marketplace: listÂ private driveways / commercial parking
	â€¢	Operator portal to manage lots, tariffs, spot layouts, and availability
Non-Goals (future phases)
	â€¢	Automated barrier open via LPR (license plate recognition)
	â€¢	Dynamic surge pricing
	â€¢	Government contracts and smart city integrations

3) Personas & Use Cases
Personas
Persona
Needs / Pain Points
Driver (ICE/EV)
Wants cheapest/closest parking, guaranteed availability
EV Owner
Needs charging spots by connector type (CCS2, Type2, NACS, etc.)
Queued User
Wants spot reassignment or compensation if original spot unavailable
Private Spot Owner
Wants to earn money by renting unused driveway
Parking Operator (Admin)
Wants dashboard, pricing, layouts, analytics
City / Campus Admin
Wants traffic reduction + sustainability metrics
Top Use Cases
	â€¢	Search â€œdestinationâ€ â†’ showÂ minimum 10 resultsÂ within 1.5â€“5 km
	â€¢	Rank by:Â Price | Distance | Availability | COâ‚‚ savings
	â€¢	Select spot â†’ reserve â†’ pay â†’Â navigate via AR

4) Functional Requirements
4.1 Location & Search
	â€¢	Search via autocomplete (Google Maps / OSM Nominatim)
	â€¢	MinimumÂ 10 results within 1.5â€“5 km
	â€¢	Sorting:
	â€¢	Cheapest â†’ Most expensive
	â€¢	Nearest â†’ Farthest
	â€¢	Lowest COâ‚‚ â†’ Highest COâ‚‚
	â€¢	Toggle: "Only show available spots"
4.2 Results & Filters
Filters include:
	â€¢	Price slider
	â€¢	EV charging (connector / kW)
	â€¢	Covered parking / CCTV
	â€¢	Free parking
	â€¢	Accessibility bays
	â€¢	Height limits
Badges include:
	â€¢	ğŸŸ¢Â Green Choice (lowest COâ‚‚)
	â€¢	ğŸ’¸Â Cheapest
	â€¢	ğŸš¶Â Closest
	â€¢	ğŸ”ŒÂ EV Compatible
	â€¢	â­Â Best Value Score
4.3 Computer Vision (Live Availability)
Data sources:
	â€¢	CCTV camera
	â€¢	Edge devices (ESP32 camera or PiCam)
	â€¢	Phone camera (user scanning)
Output:
	â€¢	Spot occupancy (free / occupied / reserved)
	â€¢	Spot metadata (EV / accessible / regular)
4.4 Reservation & Queue Guarantee
	â€¢	User reserves a spot
	â€¢	Queue manager places others in waitlist
	â€¢	If current user extends stay:
	â€¢	No penalty to them â†’ auto billing
	â€¢	Queued user gets:
	â€¢	Nearest reassigned spot, OR
	â€¢	Wallet compensation
4.5 Wallet Compensation
	â€¢	Credit stored & usable on next booking
	â€¢	No expiry
4.6 Private Parking Marketplace
	â€¢	Homeowners or shop owners list spots
	â€¢	Users can book those like Airbnb

5) Non-Functional Requirements
Category
Requirement
Performance
Search API < 400ms (cached), lot detail < 600ms
Availability
99.9% uptime (single region)
Security
OAuth2 + JWT + RBAC
Privacy
GDPR/CPRA compliant
Payments
PCI-DSS SAQ-A (tokenized)
Observability
OpenTelemetry, logs, distributed tracing

6) System Architecture (Updated)
[ Mobile / Web App ]
        |
      HTTPS + JWT
        |
   [ API Gateway ]
        |
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 |                         |                       |                        |
[Search Service]   [Reservation + Queue]   [Wallet + Payment]       [Maps Adapter]
      |                     |                       |                          |
 [COâ‚‚ Engine]          [Spot Reassign Logic]     [Stripe/Razorpay/UPI]   [Google/OSM]
      |
 [Emission Factor DB]

[Computer Vision Service] <-- CCTV / ESP32 cameras / Drone feed

[Postgres + PostGIS]  â† layouts, lots, spots, reservations
[Redis Cache]         â† caching search, quotes

7) Data Model (ERD Outline)
Entities (highlights):
	â€¢	Reservation.spot_id,Â queue_position
	â€¢	Wallet(balance)Â for compensation
	â€¢	EmissionFactor(region, g_co2_per_km, g_co2_per_kwh)

8) API (Draft)
API
Description
POST /reservations
Create reservation
PUT /reservations/{id}/extend
Extend reservation (auto billing)
POST /queue/reassign
Assign new spot for queued user
POST /wallet/refund
Compensation credit
POST /co2/score
Returns g COâ‚‚ + % savings
More APIs exist; full list in Section 8.

9) Ranking & Scoring Logic
BestValueScore =
  w_price * normalized(price) +
  w_distance * normalized(distance) +
  w_availability * normalized(availability) +
  w_co2 * normalized(co2) +
  w_rating * normalized(rating)

10) COâ‚‚ Footprint Calculation
ICE vehicle:
COâ‚‚ = (route_km + cruising_km) * emission_factor_g_per_km

EV:
COâ‚‚ = (route_km * efficiency_kWh/km) * grid_intensity_g/kWh
App shows:
You saved 420g COâ‚‚ vs normal street parking âœ…

11) Lot Layout & Spot Rendering (Per-spot visualization)
Parking lots are represented asÂ multi-level polygon layouts with spot objects.
Features:
	â€¢	Floors (Level 1, Level 2â€¦)
	â€¢	Aisles + zones
	â€¢	Spot polygons (GeoJSON)
	â€¢	Real-time status overlays (free/occupied/reserved/EV/etc.)
	â€¢	Tap to see metadata (spot size, restrictions, EV connector type)
Spot colors:
Color
Meaning
ğŸŸ¢ Green
Available
ğŸ”´ Red
Occupied
ğŸ”µ Blue
Reserved
ğŸŸ¦ Teal
EV charging spot (live charging status)
ğŸŸ£ Purple
Accessibility spot

12) Integrations (Maps, EV networks, Payment, CV)
Integration
API Used
Reason
Google Maps Platform
Geocoding, Directions, Distance Matrix, Static/JS Maps
Search + navigation
EV Networks
OCPI/OCPP, OpenChargeMap, Hubject
EV charger availability
Payments
UPI / Stripe / Razorpay / Paytm
Secure payment + refunds
Computer Vision
Python (YOLOv8), OpenCV, ESP32 Cam / CCTV stream
Spot occupancy detection
Where needed, OpenStreetMap + MapLibre can be used to reduce Google API billing costs.

13) Frontend (Modern GUI)
Tech stack (web):
	â€¢	React + TypeScript
	â€¢	Tailwind + shadcn/ui components
	â€¢	Zustand / Redux Toolkit (state management)
	â€¢	React Query (data fetching)
Design features:
	â€¢	PWA (works as app on mobile without install)
	â€¢	Dark/light mode
	â€¢	Responsive design
	â€¢	AR view overlay using WebAR (model-viewer + ARCore/ARKit)
App views:
Screen
Key Elements
Search
Map + list results, filters
Lot Detail
EV chargers, COâ‚‚ score, price estimate
Layout View
Level view + spot selection in real time
Checkout
Payment + wallet + UPI
AR Navigation
Arrow overlay guiding user to the exact spot

14) Backend & Data Infrastructure
Component
Tech
Backend API
Python (FastAPI) or Node.js (NestJS)
DB
PostgreSQL + PostGIS (spatial data)
Cache
Redis (search caching + pre-scored results)
Message brokers
Kafka / NATS (queue & CV events)
Storage
S3 bucket (blueprints & images)
Realtime
WebSockets / SSE for live layout updates
Database stores:
	â€¢	Parking lots and layouts as GeoJSON
	â€¢	Individual spots (bounding polygon)
	â€¢	Reservation and wallet transactions

15) IoT (Computer Vision Spot Detection)
Hardware optionalÂ (lots without cameras can manually update spot status).
Supported CV inputs:
	â€¢	CCTV live stream â†’ YOLOv8 detecting occupied spots
	â€¢	ESP32 Cam (cheap IoT camera)
	â€¢	Drone feed (university/large event use case)

16) Security, Privacy & Compliance
Area
Measure
Authentication
OAuth2.1 + OIDC + JWT
Access control
RBAC (User / Spot Owner / Operator / Admin)
Transport
TLS 1.3, HSTS, HTTPS only
Data
PII encrypted, wallet tokens encrypted
Compliance
GDPR/CPRA + PCI DSS SAQ-A
Threat mitigation
Rate limiting, WAF, Anti-DDoS, anomaly detection
Privacy: No license plates stored; if CV is used, frames are processed edge-side and not stored.

17) DevOps & SRE (Reliability)
Category
Selected Approach
Infra
Kubernetes (EKS/GKE/AKS)
CI/CD
GitHub Actions + automated Docker build
IaC
Terraform
Monitoring
OpenTelemetry + Prometheus + Grafana
Logging
ELK / CloudWatch
On-call
PagerDuty

18) Analytics & Experimentation
Key KPIs:
	â€¢	Search â†’ reservation conversion rate
	â€¢	COâ‚‚ saved per reservation (% vs average street parking)
	â€¢	Average wallet compensation amount
	â€¢	EV parking adoption rate
A/B Testing examples:
	â€¢	Which filter increases conversion: "Cheapest" vs. "Lowest COâ‚‚"?
	â€¢	Should COâ‚‚ savings be shown in % or grams?

19) Acceptance Criteria (MVP Completion)
Requirement
Must Pass?
Search shows â‰¥ 10 results within 1.5â€“5 km
âœ…
User can reserve a spot and navigate via AR
âœ…
If spot unavailable â†’ queued user receives reassignment or compensation
âœ…
EV filter shows only valid chargers
âœ…
COâ‚‚ score displayed in results + detail screen
âœ…

20) Testing Strategy
Testing Type
Tools
Unit tests
PyTest / Jest
API Tests
Postman / Newman
E2E UI
Playwright / Cypress
Load Test
k6 / Gatling
Security Scans
Snyk + Trivy
CV Model accuracy
YOLO metrics (precision/recall)

21) Roadmap (Phased Delivery)
Phase
Duration
Deliverables
Phase 0
2â€“3 weeks
CV PoC, initial DB + search
Phase 1
6â€“8 weeks
MVP app + layout view + COâ‚‚ + operator portal
Phase 2
4â€“6 weeks
Wallet + queue system + AR guidance
Phase 3
8+ weeks
Marketplace + CV IoT automation + smart contracts

22) Risks & Mitigations
Risk
Mitigation
Camera not reliably detecting spots
Fallback: manual operator update
Queued user frustration
Wallet credit + reassignment option
Google Maps API cost
Cache + OpenStreetMap fallback

23) Open Questions
	â€¢	Do we enable automated gate entry in v2?
	â€¢	Should wallet credits be transferable or redeemable for cash?

24) Appendix
COâ‚‚ estimate example shown to user:
"â­ You saved 420g COâ‚‚ vs. typical street parking"

25) Glossary
Term
Definition
CV
Computer Vision
COâ‚‚ Score
Estimated emissions for selected spot
RBAC
Role-based access control

Top of Form

Bottom of Form







1. Project Overview
The Smart Parking System is a nextâ€‘generation platform combining: - Computer Vision (AI detection of free/occupied parking spots) - Spot reservation with queue management - Auto billing on overtime (no penalties, only normal billing) - Wallet compensation if reassignment happens - Marketplace for private parking owners (Airbnb for parking) - AR navigation to guide the user to the specific spot Goal: Ensure the user always finds parking, even if their reserved spot becomes unavailable.

2. Unique Selling Proposition (USP)
Not just find parking, but guarantee a parking spot.
	Feature	Exists Today?	Our System
Find nearby parking
âœ…
âœ…
Exact spot detection via AI (CCTV / Phone camera)
âŒ
âœ…
Queue + automatic reassignment + wallet compensation
âŒ
âœ…
Auto-billing when user overstays (no penalty)
âŒ
âœ…
AR indoor parking guidance
âŒ
âœ…
Private parking marketplace
âŒ
âœ…

3. Actors
	Actor	Role
	User (Driver)	Search, reserve, pay, navigate
	Actor	Role
Admin (Parking Operator)
Manage lots, layouts, availability
Private Parking Owner
Lists parking as marketplace spot
Payment Gateway
UPI/Card wallet billing
Computer Vision Service
Detects free/occupied spots
Maps API / AR Service
Guides user to exact location

4. Functional Requirements
4.0 Newly Added â€” COâ‚‚ Footprint Optimization (Ecoâ€‘Smart Parking)
The system automatically calculates and labels carbon footprint for each parking option and shows COâ‚‚ savings (%) compared to the highestâ€‘impact option on the list.
Inputs: distance to parking, availability (circling), vehicle type (ICE/EV), regional COâ‚‚ factors.
Displayed to user: 
Eco impact: 180g COâ‚‚  |  Savings: 28% vs highestâ€‘impact option
320g COâ‚‚  |  Savings: 12% vs highestâ€‘impact option
520g COâ‚‚  |  Highest COâ‚‚ (baseline)
Calculation logic: -	 ICE: COâ‚‚ = distance_km Ã— emission_factor_g_per_km 	-	 EV: COâ‚‚ = energy_kWh Ã— grid_intensity_g_per_kWh 	-	 Savings	 	%	 	formula: savings_pct = (max_co2 - option_co2) / max_co2 Ã— 100
Sort option: Sort by Lowest COâ‚‚
Badges on result: Eco Choice â€” lowest emission option

5. Nonâ€‘Functional Requirements
Non-Functional Requirements - Search results: < 400ms - System uptime: 99.9% - Seat detection inference time: < 200ms - Database: PostgreSQL + PostGIS

6. System Architecture (High Level)
Mobile/Web App
     â”‚
     â–¼
API Gateway 
â†’
 Auth Service (JWT)
     â”‚
     â”œâ”€â”€
 Parking Search Service 
â†’
 DB (Parking Lots + Private Listings)
     â”œâ”€â”€
 Reservation + Queue Manager 
â†’
 Wallet Service 
â†’
 Payment API
     â”œâ”€â”€
 Computer Vision Service 
â†’
 Camera Feed / CCTV / Drone
     â””â”€â”€
 AR Navigation Service 
â†’
 Maps API
Mobile/Web App
     â”‚
     â–¼
API Gateway 
â†’
 Auth Service (JWT)
     â”‚
     â”œâ”€â”€
 Parking Search Service 
â†’
 DB (Parking Lots + Private Listings)
     â”œâ”€â”€
 Reservation + Queue Manager 
â†’
 Wallet Service 
â†’
 Payment API
     â”œâ”€â”€
 Computer Vision Service 
â†’
 Camera Feed / CCTV / Drone
     â””â”€â”€
 AR Navigation Service 
â†’
 Maps API
7. Queue Conflict Handling Logic (Final)
If user A extends time:
    charge user A based on new time
    If alternate spot exists:
        assign to user B
    Else:
        show popup with options (assign, wait, cancel)
        If cancel:
            refund(userB) 
â†’
 Wallet credits
If user A extends time:
    charge user A based on new time
    If alternate spot exists:
        assign to user B
    Else:
        show popup with options (assign, wait, cancel)
        If cancel:
            refund(userB) 
â†’
 Wallet credits
8. Diagrams (Use Case + Flow + Sequence)
Diagram style: Lucidchart (enterprise style). You can import these using Lucidchartâ€™s PlantUML/Text import, or render via PlantUML and upload SVG/PNG into Lucidchart for collaboration.
8.1 Use Case Diagram (with external systems)
@startuml
left to right direction
skinparam actorStyle awesome
skinparam packageStyle rectangle
actor "Driver / User" as User
actor "Admin / Parking Operator" as Admin
actor "Payment Gateway (UPI / Card / Wallet)" as Pay
actor "Maps / AR Service" as Maps
@startuml
left to right direction
skinparam actorStyle awesome
skinparam packageStyle rectangle
actor "Driver / User" as User
actor "Admin / Parking Operator" as Admin
actor "Payment Gateway (UPI / Card / Wallet)" as Pay
actor "Maps / AR Service" as Maps
actor "Computer Vision Service" as CV actor "EV / Open Data Providers" as EV
rectangle "Smart Parking System" {
  ' Authentication first
  (Login / Sign Up) as UC_Login
  User --> UC_Login
  Admin --> UC_Login
  ' Discovery
  (Search parking near destination) as UC_Search
  (Apply filters: Price / Distance / EV / Free / Paid) as UC_Filter
  (View lot details) as UC_Detail
  (View layout & spot status) as UC_Layout
  User --> UC_Search
  User --> UC_Filter
  User --> UC_Detail
  User --> UC_Layout
  CV --> UC_Layout
  EV --> UC_Detail
  ' Reservation / Queue / Wallet
  (Select spot & Reserve) as UC_Reserve
  (Join queue for spot) as UC_Queue
  (Popup: Reassign / Keep Waiting / Wallet Refund) as UC_Popup
  (Wallet credits) as UC_Wallet
  User --> UC_Reserve
  User --> UC_Queue
  UC_Queue ..> UC_Popup : <<extends>>
  UC_Popup ..> UC_Wallet : <<uses>>
  ' Billing & Payment
  (Auto-billing on overstay) as UC_Overstay
  (Pay via UPI/Card/Wallet) as UC_Pay
  User --> UC_Pay
  Pay --> UC_Pay
  User --> UC_Overstay
  ' Navigation
  (AR guidance to exact spot) as UC_AR
  User --> UC_AR
  Maps --> UC_AR
  ' Admin portal
  (Create/Edit lot & pricing) as UC_AdminLots
  (Upload layout & classify spots) as UC_AdminLayout
  (Update availability) as UC_AdminAvail
  (View analytics dashboard) as UC_AdminAnalytics
  Admin --> UC_AdminLots
  Admin --> UC_AdminLayout
  Admin --> UC_AdminAvail
  Admin --> UC_AdminAnalytics
}
@enduml
  Admin --> UC_AdminLots
  Admin --> UC_AdminLayout
  Admin --> UC_AdminAvail
  Admin --> UC_AdminAnalytics
}
@enduml
8.2 Sequence Diagram â€” Queue Conflict & Reassignment (Option B wording)
@startuml
actor UserB as "Queued User (B)"
participant App as "Mobile/Web App"
participant API as "Backend API"
participant Queue as "Queue Manager"
participant Lots as "Lot/Spot Service"
participant Wallet as "Wallet Service"
participant Pay as "Payment Gateway"
participant UserA as "Current User (A)"
==
 A extends reservation 
==
UserA -> App : Extend time
App -> API : PUT /reservations/{id}/extend
API -> Pay : Charge extra (normal billing)
Pay --> API : Success
API --> App : Extension confirmed
==
 Notify queued user 
==
API -> Queue : Spot still occupied; notify next in queue
Queue -> App : Push event (spot unavailable)
App -> UserB : **Popup**
[
Reassign me] [Keep waiting] [Cancel & refund to wallet
]
alt UserB chooses "Reassign me"
  App -> API : POST /queue/reassign {pref: nearest}
  API -> Lots : Find nearest available spot
  Lots --> API : Spot B18
  API -> App : Assign Spot B18 + navigate
end
alt UserB chooses "Keep waiting"
  App -> API : POST /queue/wait
  API -> Queue : Keep position; ETA updates
  Queue --> App : Live ETA events
end
alt UserB chooses "Cancel & refund to wallet"
@startuml
actor UserB as "Queued User (B)"
participant App as "Mobile/Web App"
participant API as "Backend API"
participant Queue as "Queue Manager"
participant Lots as "Lot/Spot Service"
participant Wallet as "Wallet Service"
participant Pay as "Payment Gateway"
participant UserA as "Current User (A)"
==
 A extends reservation 
==
UserA -> App : Extend time
App -> API : PUT /reservations/{id}/extend
API -> Pay : Charge extra (normal billing)
Pay --> API : Success
API --> App : Extension confirmed
==
 Notify queued user 
==
API -> Queue : Spot still occupied; notify next in queue
Queue -> App : Push event (spot unavailable)
App -> UserB : **Popup**
[
Reassign me] [Keep waiting] [Cancel & refund to wallet
]
alt UserB chooses "Reassign me"
  App -> API : POST /queue/reassign {pref: nearest}
  API -> Lots : Find nearest available spot
  Lots --> API : Spot B18
  API -> App : Assign Spot B18 + navigate
end
alt UserB chooses "Keep waiting"
  App -> API : POST /queue/wait
  API -> Queue : Keep position; ETA updates
  Queue --> App : Live ETA events
end
alt UserB chooses "Cancel & refund to wallet"
  App -> API : POST /queue/cancel
  API -> Wallet : credit(amount)
  Wallet --> API : ok
  API -> App : Wallet refund confirmed
end
@enduml
  App -> API : POST /queue/cancel
  API -> Wallet : credit(amount)
  Wallet --> API : ok
  API -> App : Wallet refund confirmed
end
@enduml
8.3 Component / Architecture Diagram (High Level)
@startuml
skinparam componentStyle rectangle
package "Clients" {
  [iOS/Android PWA]
  [Web App]
}
package "Edge / CV" {
  [CCTV / PiCam / Drone]
  [CV Inference Service]
}
package "Core Services" {
  [API Gateway]
  [Auth Service]
  [Search Service]
  [Lot & Layout Service]
  [Reservation & Queue Manager]
  [Wallet Service]
  [Payment Adapter]
  [AR/Maps Adapter]
}
package "Data Stores" {
  [Postgres + PostGIS]
  [Redis Cache]
  [Object Storage (Layouts/Images)]
}
package "External Providers" {
  [Payment Gateway]
  [Maps / AR]
  [EV / Open Data]
}
[
iOS/Android PWA] --> [API Gateway
]
@startuml
skinparam componentStyle rectangle
package "Clients" {
  [iOS/Android PWA]
  [Web App]
}
package "Edge / CV" {
  [CCTV / PiCam / Drone]
  [CV Inference Service]
}
package "Core Services" {
  [API Gateway]
  [Auth Service]
  [Search Service]
  [Lot & Layout Service]
  [Reservation & Queue Manager]
  [Wallet Service]
  [Payment Adapter]
  [AR/Maps Adapter]
}
package "Data Stores" {
  [Postgres + PostGIS]
  [Redis Cache]
  [Object Storage (Layouts/Images)]
}
package "External Providers" {
  [Payment Gateway]
  [Maps / AR]
  [EV / Open Data]
}
[
iOS/Android PWA] --> [API Gateway
]
[
Web App] --> [API Gateway
]
[
CCTV / PiCam / Drone] --> [CV Inference Service
]
[
CV Inference Service] --> [Lot & Layout Service
]
[
API Gateway] --> [Auth Service
]
[
API Gateway] --> [Search Service
]
[
API Gateway] --> [Reservation & Queue Manager
]
[
API Gateway] --> [Lot & Layout Service
]
[
API Gateway] --> [Wallet Service
]
[
API Gateway] --> [Payment Adapter
]
[
API Gateway] --> [AR/Maps Adapter
]
[
Search Service] --> [Postgres + PostGIS
]
[
Lot & Layout Service] --> [Postgres + PostGIS
]
[
Reservation & Queue Manager] --> [Postgres + PostGIS
]
[
Wallet Service] --> [Postgres + PostGIS
]
[
All components] --> [Redis Cache
]
[
Payment Adapter] --> [Payment Gateway
]
[
AR/Maps Adapter] --> [Maps / AR
]
[
Lot & Layout Service] --> [Object Storage (Layouts/Images
)]
[
Lot & Layout Service] --> [EV / Open Data
]
@enduml
[
Web App] --> [API Gateway
]
[
CCTV / PiCam / Drone] --> [CV Inference Service
]
[
CV Inference Service] --> [Lot & Layout Service
]
[
API Gateway] --> [Auth Service
]
[
API Gateway] --> [Search Service
]
[
API Gateway] --> [Reservation & Queue Manager
]
[
API Gateway] --> [Lot & Layout Service
]
[
API Gateway] --> [Wallet Service
]
[
API Gateway] --> [Payment Adapter
]
[
API Gateway] --> [AR/Maps Adapter
]
[
Search Service] --> [Postgres + PostGIS
]
[
Lot & Layout Service] --> [Postgres + PostGIS
]
[
Reservation & Queue Manager] --> [Postgres + PostGIS
]
[
Wallet Service] --> [Postgres + PostGIS
]
[
All components] --> [Redis Cache
]
[
Payment Adapter] --> [Payment Gateway
]
[
AR/Maps Adapter] --> [Maps / AR
]
[
Lot & Layout Service] --> [Object Storage (Layouts/Images
)]
[
Lot & Layout Service] --> [EV / Open Data
]
@enduml
8.4 Lucidchart Layout & Export Guidelines
	â€¢	Canvas: 16:9, dark header, light content sections. Fonts: Inter or Roboto.
	â€¢	Swimlanes: Left actors (Users/Operators), center system, right external systems (Payments/Maps/ CV).
	â€¢	Colors:
	â€¢	Primary: #15B77E (actions, primary use cases)
	â€¢	Secondary: #1A73E8 (external systems / integrations)
	â€¢	Accent: #FFCC00 (warnings / queue popups)
	â€¢	Connectors: Straight lines with arrowheads; label extension relationships as extends/uses.
	â€¢	Import paths: 1) File  Import Data  UML (PlantUML/Text)	 and paste blocks; or 2) Render via https:// www.plantuml.com/plantuml/uml 	Export SVG	Insert into Lucidchart.
	â€¢	Export: Share as PNG @2x for docs and PDF for PPT.

9. Wallet Rules
	â€¢	Credits never expire
	â€¢	Compensation amount decided by severity

10. Marketplace (Private Parking Owners)
	â€¢	User can rent out driveway/parking
	â€¢	Revenue sharing model: 90% owner / 10% platform

11. UI/UX Requirements
	â€¢	Clean modern UI (Tailwind + React / Flutter)
	â€¢	AR overlay must be simplified for low-light parking areas

12. Deliverables
	Deliverable	Owner	Status
System Architecture Diagram
Architect
Pending
Use Case Diagram (PNG)
Product/UX
Completed
ERD Diagram (PNG)
Backend/DB
Completed
PPT (diagrams embedded)
Product/PM
Completed
UI Wireframes
UX Designer
Pending

13. Embedded Diagrams
These images are exported assets; download links are available in the chat, and previews are embedded below.
13.1 Use Case Diagram (v3 â€” with COâ‚‚ engine)
Use Case Diagram v3
13.2 ERD Diagram (v4 â€” with EmissionFactors)
ERD Diagram v4 (v3 â€” updated with COâ‚‚ emissions)
ERD updated to include 
EmissionFactors
 table and 
co2_estimated_g
 in 
Reservation
. 
ERD Diagram v3
ERD updated to include 
EmissionFactors
 table and 
co2_estimated_g
 in 
Reservation
. 
ERD Diagram v3
End of Document

Hierarchy diagram







Mind Diagram





UI navigation diagram user

Ui navigation diagram admin


